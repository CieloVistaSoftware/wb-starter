{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Card Image",
  "description": "Image card component with optional title/subtitle.",
  "behavior": "cardimage",
  
  "$extends": "card.base.schema.json",
  
  "properties": {
    "src": {
      "type": "string",
      "description": "Image source URL",
      "required": true
    },
    "alt": {
      "type": "string",
      "description": "Image alt text (accessibility)",
      "default": ""
    },
    "aspect": {
      "type": "string",
      "description": "Image aspect ratio",
      "default": "16/9",
      "enum": ["16/9", "4/3", "1/1", "3/2", "21/9"]
    },
    "position": {
      "type": "string",
      "description": "Image position relative to content",
      "enum": ["top", "bottom"],
      "default": "top"
    },
    "fit": {
      "type": "string",
      "description": "Image object-fit mode",
      "enum": ["cover", "contain", "fill", "none"],
      "default": "cover"
    },
    "title": {
      "type": "string",
      "description": "Card title below/above image"
    },
    "subtitle": {
      "type": "string",
      "description": "Card subtitle"
    }
  },
  
  "compliance": {
    "baseClass": "wb-card",
    "requiredChildren": {},
    "optionalChildren": {
      "figure.wb-card__figure": {
        "description": "Semantic figure containing image",
        "tagName": "FIGURE"
      },
      "header.wb-card__header": {
        "tagName": "HEADER",
        "createdWhen": "title is set"
      }
    }
  },
  
  "test": {
    "setup": [
      "<article data-wb=\"cardimage\" data-src=\"test.jpg\"></article>",
      "<article data-wb=\"cardimage\" data-src=\"test.jpg\" data-title=\"Test\" data-alt=\"Test image\"></article>"
    ],
    "matrix": {
      "combinations": [
        { "src": "test.jpg" },
        { "src": "test.jpg", "alt": "Test image" },
        { "src": "test.jpg", "title": "Image Card" },
        { "src": "test.jpg", "title": "Card", "subtitle": "Subtitle" }
      ]
    }
  }
}
