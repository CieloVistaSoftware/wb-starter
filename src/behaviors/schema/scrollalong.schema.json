{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ScrollAlong",
  "behavior": "scrollalong",
  "description": "Makes an element stick to the viewport using CSS sticky positioning. The element's parent container MUST be the scrolling container (have overflow-y: auto/scroll) for sticky to work. Used for sidebars and navigation that should remain visible while scrolling.",
  "type": "object",
  "compliance": {
    "baseClass": "wb-scrollalong",
    "requirements": [
      "Parent container must have overflow-y: auto or scroll",
      "Parent container must have a defined height",
      "Element should have align-self: flex-start in flex layouts"
    ]
  },
  "properties": {},
  "cssApplied": {
    "position": "sticky",
    "top": "0",
    "alignSelf": "flex-start"
  },
  "test": {
    "setup": [
      "<nav data-wb=\"scrollalong\" id=\"siteNav\">Navigation</nav>"
    ],
    "functional": [
      {
        "type": "style",
        "name": "applies sticky positioning",
        "selector": "[data-wb='scrollalong']",
        "property": "position",
        "expected": "sticky"
      },
      {
        "type": "style", 
        "name": "sets top to 0",
        "selector": "[data-wb='scrollalong']",
        "property": "top",
        "expected": "0px"
      },
      {
        "type": "visual",
        "name": "element stays visible on scroll",
        "verify": "Element remains at top of viewport when parent container is scrolled"
      },
      {
        "type": "interaction",
        "name": "element remains interactive after scroll",
        "verify": "Child elements remain clickable after scrolling"
      }
    ]
  },
  "examples": [
    {
      "description": "Site navigation sidebar",
      "html": "<div class=\"site__body\" style=\"overflow-y: auto; height: calc(100vh - 60px);\"><nav data-wb=\"scrollalong\">Nav</nav><main>Content</main></div>",
      "note": "Parent must be the scroll container"
    }
  ],
  "knownIssues": [
    {
      "id": "WB_SCROLLALONG_LAYOUT_BREAK_047",
      "description": "Sticky fails if parent has overflow: hidden or if scrolling happens in a sibling element"
    }
  ]
}
