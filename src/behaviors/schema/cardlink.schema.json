{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Card Link",
  "description": "Clickable link card. INHERITS from card.base (IS-A card), CONTAINS navigation link (HAS-A href destination). With autoInject enabled, any <article data-href> automatically becomes a cardlink.",
  "behavior": "cardlink",
  
  "$extends": "card.base.schema.json",
  "$inheritance": {
    "type": "IS-A",
    "parent": "card",
    "inherits": ["semantic.element", "semantic.structure", "compliance.containerTag", "accessibility"]
  },
  
  "$containment": [
    {
      "type": "HAS-A",
      "name": "link",
      "element": "implicit click handler",
      "description": "Navigation destination on click"
    }
  ],
  
  "autoInject": {
    "selector": "article[data-href]",
    "description": "Any <article> with data-href attribute automatically gets cardlink behavior when autoInject is enabled",
    "note": "Plain <article> elements without data-href remain semantic articles"
  },
  
  "properties": {
    "$inherited": ["title", "subtitle", "footer", "hoverable", "elevated"],
    
    "href": {
      "type": "string",
      "description": "Link destination URL",
      "default": "#"
    },
    "title": {
      "type": "string",
      "description": "Card title text"
    },
    "description": {
      "type": "string",
      "description": "Card description/subtitle text"
    },
    "icon": {
      "type": "string",
      "description": "Icon displayed before title (emoji or text)",
      "default": ""
    },
    "badge": {
      "type": "string",
      "description": "Badge text displayed below description",
      "default": ""
    },
    "badgeVariant": {
      "type": "string",
      "description": "Badge style variant",
      "enum": ["glass", "gradient"],
      "default": "glass"
    },
    "target": {
      "type": "string",
      "description": "Link target",
      "enum": ["_self", "_blank"],
      "default": "_self"
    }
  },
  
  "compliance": {
    "$inherits": "card.base.schema.json#compliance",
    "baseClass": "wb-card",
    "additionalClasses": ["wb-card--link"],
    "attributes": {
      "role": "link",
      "tabindex": "0"
    }
  },
  
  "interactions": {
    "elements": {
      "element": {
        "type": "card",
        "clickable": true,
        "focusable": true,
        "click": {
          "action": "Navigate to href",
          "event": "wb:cardlink:click"
        },
        "hover": {
          "expectedStyle": {
            "transform": "translateY(-2px)",
            "borderColor": "var(--primary)"
          }
        }
      }
    },
    "keyboard": {
      "Enter": { "target": "element", "action": "Navigate to href" }
    }
  },
  
  "events": {
    "wb:cardlink:click": {
      "source": "element",
      "bubbles": true,
      "detail": { "href": "string", "title": "string" },
      "firesWhen": "Card is clicked"
    }
  },
  
  "test": {
    "setup": [
      "<article data-wb=\"cardlink\" data-href=\"https://example.com\" data-title=\"Example\"></article>",
      "<article data-wb=\"cardlink\" data-href=\"#section\" data-title=\"Internal\" data-target=\"_self\"></article>",
      "<article data-href=\"https://example.com\" data-title=\"AutoInjected\"></article>"
    ],
    "matrix": {
      "combinations": [
        { "href": "https://example.com" },
        { "href": "https://example.com", "title": "Link Title" },
        { "href": "#section", "target": "_self" },
        { "href": "https://example.com", "icon": "üåê" },
        { "href": "https://example.com", "badge": "NEW" },
        { "href": "https://example.com", "badge": "Featured", "badgeVariant": "gradient" }
      ]
    },
    "functional": {
      "semantic": [
        {
          "name": "Container should be ARTICLE (inherited)",
          "setup": "<article data-wb=\"cardlink\" data-href=\"#\"></article>",
          "expect": { "selector": "element", "tagName": "ARTICLE" }
        }
      ],
      "interactions": [
        {
          "name": "Clicking card navigates to href",
          "setup": "<article data-wb=\"cardlink\" data-href=\"https://example.com\" data-target=\"_blank\"></article>",
          "steps": [{ "action": "click", "selector": "element" }],
          "expect": { "windowOpen": "https://example.com" }
        }
      ]
    }
  },
  
  "examples": [
    {
      "description": "Explicit cardlink with data-wb",
      "html": "<article data-wb=\"cardlink\" data-href=\"/page\" data-title=\"My Page\"></article>"
    },
    {
      "description": "AutoInjected cardlink (with autoInject enabled)",
      "html": "<article data-href=\"/page\" data-title=\"My Page\" data-badge=\"NEW\"></article>",
      "note": "Automatically enhanced when WB.init({ autoInject: true })"
    },
    {
      "description": "Cardlink with icon and gradient badge",
      "html": "<article data-href=\"/featured\" data-icon=\"‚≠ê\" data-title=\"Featured\" data-badge=\"HOT\" data-badge-variant=\"gradient\"></article>"
    }
  ]
}
