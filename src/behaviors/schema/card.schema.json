{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "card.schema.json",
  "title": "Card Component",
  "description": "Base card component. IS-A article (sectioning), HAS-A header, main, footer.",
  "behavior": "card",
  
  "allOf": [
    { "$ref": "_base/sectioning.schema.json" }
  ],
  
  "type": "object",
  
  "semanticElement": {
    "tagName": "article",
    "implicitRole": "article",
    "outline": true
  },
  
  "properties": {
    
    "_card": {
      "title": "Card Content",
      "description": "Card-specific content properties (canvas-editable)",
      "type": "object",
      "properties": {
        "title": {
          "type": "string",
          "description": "Card title - displays in header",
          "default": "",
          "canvasEditable": true,
          "editableSelector": ".wb-card__title"
        },
        "subtitle": {
          "type": "string",
          "description": "Card subtitle - displays below title",
          "default": "",
          "canvasEditable": true,
          "editableSelector": ".wb-card__subtitle"
        },
        "footer": {
          "type": "string",
          "description": "Card footer text",
          "default": "",
          "canvasEditable": true,
          "editableSelector": ".wb-card__footer"
        }
      }
    },
    
    "_cardBehavior": {
      "title": "Card Behavior",
      "description": "Card-specific behavior properties",
      "type": "object",
      "properties": {
        "elevated": {
          "type": "boolean",
          "description": "Add drop shadow to card",
          "default": false,
          "appliesClass": "wb-card--elevated"
        },
        "clickable": {
          "type": "boolean",
          "description": "Make entire card clickable (requires href)",
          "default": false,
          "appliesClass": "wb-card--clickable"
        },
        "href": {
          "type": "string",
          "format": "uri-reference",
          "description": "URL to navigate when card is clicked",
          "default": "",
          "dependsOn": { "clickable": true }
        },
        "hoverText": {
          "type": "string",
          "description": "Tooltip text shown on hover",
          "default": "",
          "appliesAttribute": "title"
        }
      }
    }
  },
  
  "structure": {
    "baseClass": "wb-card",
    "children": {
      "header": {
        "tagName": "header",
        "class": "wb-card__header",
        "createdWhen": "title OR subtitle",
        "children": {
          "title": {
            "tagName": "h3",
            "class": "wb-card__title",
            "content": "{{title}}"
          },
          "subtitle": {
            "tagName": "p",
            "class": "wb-card__subtitle",
            "content": "{{subtitle}}",
            "createdWhen": "subtitle"
          }
        }
      },
      "main": {
        "tagName": "main",
        "class": "wb-card__main",
        "content": "{{slot}}"
      },
      "footer": {
        "tagName": "footer",
        "class": "wb-card__footer",
        "createdWhen": "footer",
        "content": "{{footer}}"
      }
    }
  },
  
  "test": {
    "setup": [
      "<article data-wb=\"card\" data-title=\"Test Card\">Content</article>",
      "<article data-wb=\"card\" data-title=\"Test\" data-subtitle=\"Subtitle\">Content</article>"
    ],
    "matrix": {
      "combinations": [
        { "_card": { "title": "Card" } },
        { "_card": { "title": "Card", "subtitle": "Subtitle" } },
        { "_card": { "title": "Card" }, "_cardBehavior": { "elevated": true } },
        { "_card": { "title": "Card" }, "_cardBehavior": { "clickable": true, "href": "#test" } }
      ]
    }
  },
  
  "_metadata": {
    "extends": "sectioning",
    "category": "cards",
    "icon": "üÉè",
    "variants": ["cardimage", "cardbutton", "cardpricing", "cardprofile", "cardstats", "cardtestimonial"]
  },
  "compliance": {
    "css": "Uses only CSS variables for colors, minimal !important usage",
    "schema": "Includes required fields and structure for card components",
    "test": "Matrix covers all major property combinations",
    "baseClass": "wb-card"
  }
}
