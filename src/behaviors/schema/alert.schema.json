{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Alert",
  "description": "Alert component for displaying messages with different severity levels",
  "type": "object",
  "behavior": "alert",
  
  "properties": {
    "type": {
      "type": "string",
      "description": "Alert type/severity",
      "enum": ["info", "success", "warning", "error"],
      "default": "info",
      "permutations": {
        "type": "ALL_ENUM",
        "assertions": {
          "info": {"selector": "element", "checks": {"hasClass": "wb-alert--info"}},
          "success": {"selector": "element", "checks": {"hasClass": "wb-alert--success"}},
          "warning": {"selector": "element", "checks": {"hasClass": "wb-alert--warning"}},
          "error": {"selector": "element", "checks": {"hasClass": "wb-alert--error"}}
        }
      }
    },
    "title": {
      "type": "string",
      "description": "Alert title"
    },
    "message": {
      "type": "string",
      "description": "Alert message content"
    },
    "dismissible": {
      "type": "boolean",
      "description": "Can alert be dismissed",
      "default": false,
      "permutations": {
        "type": "BOOLEAN",
        "assertions": {
          "true": {"selector": ".wb-alert__close", "checks": {"exists": true}},
          "false": {"description": "No close button when not dismissible"}
        }
      }
    }
  },

  "compliance": {
    "baseClass": "wb-alert",
    "requiredChildren": {},
    "optionalChildren": {
      ".wb-alert__icon": {
        "description": "Alert icon"
      },
      ".wb-alert__content": {
        "description": "Content container"
      },
      ".wb-alert__title": {
        "description": "Alert title (created from data-title)"
      },
      ".wb-alert__message": {
        "description": "Alert message (created from data-message)"
      },
      ".wb-alert__close": {
        "description": "Close button for dismissible alerts",
        "createdWhen": "dismissible=true"
      }
    },
    "styles": {
      "borderRadius": {"required": true},
      "padding": {"required": true}
    },
    "accessibility": {
      "role": "alert"
    }
  },

  "test": {
    "setup": [
      "<div data-wb=\"alert\" data-message=\"Info alert\"></div>",
      "<div data-wb=\"alert\" data-type=\"success\" data-title=\"Success\" data-message=\"Done!\"></div>",
      "<div data-wb=\"alert\" data-type=\"error\" data-message=\"Error\" data-dismissible></div>"
    ],
    "matrix": {
      "combinations": [
        {"type": "info", "message": "Test"},
        {"type": "success", "message": "Test"},
        {"type": "warning", "message": "Test"},
        {"type": "error", "message": "Test"},
        {"type": "info", "title": "Title", "message": "Test"},
        {"type": "info", "message": "Test", "dismissible": true}
      ]
    }
  }
}
