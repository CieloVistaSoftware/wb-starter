{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Badge",
  "description": "Small badge/label component for status indicators",
  "type": "object",
  "behavior": "badge",
  
  "properties": {
    "variant": {
      "type": "string",
      "description": "Badge color variant",
      "enum": ["default", "primary", "success", "warning", "error", "info"],
      "default": "default",
      "permutations": {
        "type": "ALL_ENUM",
        "assertions": {
          "default": {"selector": "element", "checks": {"hasClass": "wb-badge--default"}},
          "primary": {"selector": "element", "checks": {"hasClass": "wb-badge--primary"}},
          "success": {"selector": "element", "checks": {"hasClass": "wb-badge--success"}},
          "warning": {"selector": "element", "checks": {"hasClass": "wb-badge--warning"}},
          "error": {"selector": "element", "checks": {"hasClass": "wb-badge--error"}},
          "info": {"selector": "element", "checks": {"hasClass": "wb-badge--info"}}
        }
      }
    },
    "size": {
      "type": "string",
      "description": "Badge size",
      "enum": ["sm", "md", "lg"],
      "default": "md",
      "permutations": {
        "type": "ALL_ENUM",
        "assertions": {
          "sm": {"selector": "element", "checks": {"hasClass": "wb-badge--sm"}},
          "md": {"selector": "element", "checks": {"hasClass": "wb-badge--md"}},
          "lg": {"selector": "element", "checks": {"hasClass": "wb-badge--lg"}}
        }
      }
    },
    "pill": {
      "type": "boolean",
      "description": "Pill-shaped badge with full border radius",
      "default": false,
      "permutations": {
        "type": "BOOLEAN",
        "assertions": {
          "true": {"selector": "element", "checks": {"hasClass": "wb-badge--pill"}},
          "false": {"description": "Standard border radius"}
        }
      }
    },
    "dot": {
      "type": "boolean",
      "description": "Small dot indicator without text",
      "default": false,
      "permutations": {
        "type": "BOOLEAN",
        "assertions": {
          "true": {"selector": "element", "checks": {"hasClass": "wb-badge--dot"}},
          "false": {"description": "Standard badge with text"}
        }
      }
    }
  },

  "compliance": {
    "baseClass": "wb-badge",
    "styles": {
      "display": {"value": "inline-block", "required": true},
      "fontWeight": {"required": true}
    }
  },

  "test": {
    "setup": [
      "<span data-wb=\"badge\">New</span>",
      "<span data-wb=\"badge\" data-variant=\"success\">Done</span>",
      "<span data-wb=\"badge\" data-variant=\"error\" data-pill>5</span>",
      "<span badge=\"success\">Global</span>"
    ],
    "matrix": {
      "combinations": [
        {},
        {"variant": "success"},
        {"variant": "warning"},
        {"variant": "error"},
        {"variant": "info"},
        {"variant": "primary"},
        {"pill": true},
        {"variant": "success", "pill": true}
      ]
    },
    "functional": {
      "visual": [
        {
          "name": "global attribute applies variant",
          "setup": "<span badge=\"success\">Success</span>",
          "expect": {
            "selector": "element",
            "hasClass": "wb-badge--success"
          }
        }
      ]
    }
  }
}
