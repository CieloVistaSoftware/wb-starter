<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Semantic Structure Demo</title>
  <link rel="stylesheet" href="../src/styles/themes.css">
  <link rel="stylesheet" href="../src/styles/components.css">
  <style>
    body { 
      padding: 2rem; 
      background: var(--bg-color); 
      color: var(--text-primary);
      font-family: system-ui, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      border-bottom: 2px solid var(--primary);
      padding-bottom: 0.5rem;
    }
    h1 { margin: 0; border: none; padding: 0; }
    h2 { 
      margin: 3rem 0 1.5rem; 
      padding-bottom: 0.5rem;
      border-bottom: 1px solid var(--border-color);
      color: var(--text-secondary);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .demo-section {
      background: var(--bg-secondary);
      padding: 2rem;
      border-radius: 12px;
      border: 1px solid var(--border-color);
      margin-bottom: 2rem;
    }
    .demo-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 2rem;
      align-items: start;
    }
    
    /* Modal padding requirement notice */
    .padding-warning {
      display: none;
      padding: 0.75rem 1rem;
      background: var(--warning-color);
      color: #000;
      border-radius: 6px;
      margin-top: 0.5rem;
      font-size: 0.875rem;
    }
    .padding-warning.show {
      display: block;
    }
  </style>
</head>
<body>
  <header>
    <h1>üèóÔ∏è Semantic Structure Demo</h1>
    <div data-wb="themecontrol"></div>
  </header>
  <p>Enhanced structural and data elements using standard HTML tags.</p>

  <!-- TABLE -->
  <h2>Table <code>&lt;table&gt;</code></h2>
  <p>Features: Sortable columns (click header), Copyable cells (click cell), Searchable, Striped rows.</p>
  <div class="demo-section">
    <table
      data-wb="table"
      data-sortable="true"
      data-searchable="true"
      data-striped="true"
      data-hover="true"
      data-copyable="true"
      data-pagination="true"
      data-page-size="5">
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Role</th>
          <th>Department</th>
          <th>Status</th>
          <th>Last Login</th>
        </tr>
      </thead>
      <tbody>
        <tr><td>1</td><td>Alice Smith</td><td>Developer</td><td>Engineering</td><td>Active</td><td>2023-10-01</td></tr>
        <tr><td>2</td><td>Bob Jones</td><td>Designer</td><td>Design</td><td>Active</td><td>2023-10-02</td></tr>
        <tr><td>3</td><td>Charlie Brown</td><td>Manager</td><td>Product</td><td>Away</td><td>2023-09-28</td></tr>
        <tr><td>4</td><td>Diana Prince</td><td>Developer</td><td>Engineering</td><td>Active</td><td>2023-10-03</td></tr>
        <tr><td>5</td><td>Evan Wright</td><td>QA</td><td>Engineering</td><td>Offline</td><td>2023-09-25</td></tr>
        <tr><td>6</td><td>Fiona Green</td><td>Developer</td><td>Engineering</td><td>Active</td><td>2023-10-04</td></tr>
        <tr><td>7</td><td>George Hill</td><td>Designer</td><td>Design</td><td>Busy</td><td>2023-10-01</td></tr>
        <tr><td>8</td><td>Hannah Lee</td><td>Manager</td><td>Product</td><td>Active</td><td>2023-10-05</td></tr>
        <tr><td>9</td><td>Ian Scott</td><td>Developer</td><td>Engineering</td><td>Offline</td><td>2023-09-30</td></tr>
        <tr><td>10</td><td>Jane Doe</td><td>QA</td><td>Engineering</td><td>Active</td><td>2023-10-02</td></tr>
      </tbody>
    </table>
  </div>

  <!-- DETAILS -->
  <h2>Details <code>&lt;details&gt;</code></h2>
  <div class="demo-section">
    <div class="demo-grid">
      <details
        data-wb="details"
        data-accordion="group1">
        <summary>Detail Item 1</summary>
        <p>This is the content for item 1. It closes when another item in the group opens.</p>
      </details>
      <details
        data-wb="details"
        data-accordion="group1">
        <summary>Detail Item 2</summary>
        <p>This is the content for item 2. It closes when another item in the group opens.</p>
      </details>
      <details
        data-wb="details"
        data-accordion="group1">
        <summary>Detail Item 3</summary>
        <p>This is the content for item 3. It closes when another item in the group opens.</p>
      </details>
    </div>
  </div>

  <!-- DIALOG -->
  <h2>Dialog <code>&lt;dialog&gt;</code></h2>
  <div class="demo-section">
    <button id="open-dialog-btn">Open Modal Dialog</button>
    <div id="padding-warning" class="padding-warning">
      ‚ö†Ô∏è Modal blocked: Body requires at least 1rem padding on left and right sides.
    </div>
    
    <dialog
      id="demo-dialog"
      data-wb="dialog"
      data-close-on-backdrop="true"
      data-animation="fade">
      <form method="dialog">
        <h3>Confirmation</h3>
        <p>This is a native dialog enhanced with animations and backdrop click handling.</p>
        <div style="display: flex; justify-content: flex-end; gap: 1rem; margin-top: 1rem;">
          <button value="cancel">Cancel</button>
          <button value="confirm" autofocus>Confirm</button>
        </div>
      </form>
    </dialog>
  </div>

  <!-- PROGRESS -->
  <h2>Progress <code>&lt;progress&gt;</code></h2>
  <div class="demo-section">
    <div class="demo-grid">
      <div>
        <h3>Determinate</h3>
        <progress
          data-wb="progress"
          value="70"
          max="100"
          data-label="Loading..."
          data-animated="true"></progress>
      </div>
      <div>
        <h3>Indeterminate</h3>
        <!-- Using striped animation for indeterminate state -->
        <progress
          data-wb="progress"
          value="100"
          max="100"
          data-striped="true"
          data-animated="true"></progress>
      </div>
    </div>
  </div>

  <!-- CODE & PRE -->
  <h2>Code <code>&lt;code&gt;</code> & <code>&lt;pre&gt;</code></h2>
  <div class="demo-section">
    <h3>Inline Code</h3>
    <p>Use <code
      data-wb="code"
      data-copy="true">npm install wb-core</code> to install.</p>
    
    <h3>Code Block</h3>
    <pre
      data-wb="pre"
      data-copy="true"
      data-line-numbers="true"><code
        data-wb="code"
        data-language="javascript">
function hello() {
  console.log("Hello World");
  return true;
}
    </code></pre>
  </div>

  <!-- LISTS -->
  <h2>Lists <code>&lt;ul&gt;, &lt;ol&gt;, &lt;dl&gt;</code></h2>
  <div class="demo-section">
    <div class="demo-grid">
      <div>
        <h3>Enhanced Unordered List</h3>
        <ul
          data-wb="ul"
          data-marker="check">
          <li>Feature One</li>
          <li>Feature Two</li>
          <li>Feature Three</li>
        </ul>
      </div>
      <div>
        <h3>Enhanced Ordered List</h3>
        <ol
          data-wb="ol"
          data-marker="circle">
          <li>Step One</li>
          <li>Step Two</li>
          <li>Step Three</li>
        </ol>
      </div>
      <div>
        <h3>Description List</h3>
        <dl
          data-wb="dl"
          data-layout="grid">
          <dt>HTML</dt>
          <dd>HyperText Markup Language</dd>
          <dt>CSS</dt>
          <dd>Cascading Style Sheets</dd>
        </dl>
      </div>
    </div>
  </div>

  <!-- Load WB -->
  <script type="module">
    import WB from '../src/core/wb-lazy.js';
    window.WB = WB;
    WB.init({ autoInject: true });
    
    // Modal padding validation
    const openDialogBtn = document.getElementById('open-dialog-btn');
    const demoDialog = document.getElementById('demo-dialog');
    const paddingWarning = document.getElementById('padding-warning');
    
    /**
     * Check if body has at least 1rem (16px) padding on left and right
     */
    function hasRequiredPadding() {
      const bodyStyle = window.getComputedStyle(document.body);
      const paddingLeft = parseFloat(bodyStyle.paddingLeft);
      const paddingRight = parseFloat(bodyStyle.paddingRight);
      const minPadding = 16; // 1rem = 16px
      
      return paddingLeft >= minPadding && paddingRight >= minPadding;
    }
    
    openDialogBtn.addEventListener('click', () => {
      if (hasRequiredPadding()) {
        paddingWarning.classList.remove('show');
        demoDialog.showModal();
      } else {
        paddingWarning.classList.add('show');
        console.warn('Modal blocked: Body requires at least 1rem padding on left and right sides.');
      }
    });
  </script>
</body>
</html>