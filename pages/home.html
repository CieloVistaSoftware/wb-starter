</div>
<script type="module">
  import { listBehaviors } from '../src/wb-viewmodels/index.js';
  const stat = document.querySelector('.stat-value[x-counter]');
  if (stat) stat.textContent = listBehaviors().length;
</script>
<!-- 
  WB START HOME PAGE - REDESIGNED
  Focus: Modern, High-Impact, Performance-First
-->

<!-- HERO CARDHERO SECTION (REQUIRED FOR COMPLIANCE) -->
<wb-cardhero heading="Build Native Web Apps Without the Build Step"
  subtitle="A comprehensive suite of 100+ behaviors and components that work directly in the browser. No Webpack. No Shadow DOM. Just pure, performant HTML & JS."
  image="images/wb.png" cta-label="ðŸš€ Get Started" cta-link="?page=builder" variant="gradient"
  style="margin-bottom: 2.5rem;"></wb-cardhero>

<!-- HERO SECTION START -->
<div class="hero-section" id="hero-section">
  <!-- Ambient Lighting Effects -->
  <wb-stagelight variant="beam" color="#6366f1" size="400px" intensity="0.2" speed="5s"
    style="left: 20%; transform: scaleX(-1);"></wb-stagelight>
  <wb-stagelight variant="beam" color="#a855f7" size="400px" intensity="0.2" speed="7s"
    style="left: 80%;"></wb-stagelight>

  <div class="hero-content" id="hero-content">
    <wb-badge variant="info" pill class="hero-badge">v3.0 Now Available</wb-badge>

    <h1 class="hero-title">
      Build <span class="gradient-text">Native</span> Web Apps<br>
      Without The Build Step
    </h1>

    <p class="hero-subtitle">
      A comprehensive suite of <strong>100+ behaviors</strong> and components that work directly in the browser.
      No Webpack. No Shadow DOM. Just pure, performant HTML & JS.
    </p>

    <div class="hero-actions" id="hero-actions">
      <a href="?page=builder" class="wb-btn wb-btn--primary wb-btn--lg" x-ripple>
        ðŸš€ Get Started
      </a>
      <a href="?page=components" class="wb-btn wb-btn--ghost wb-btn--lg" x-ripple>
        ðŸ§© Explore Components
      </a>
    </div>

    <!-- Tech Stack Pills -->
    <div class="tech-stack" id="tech-stack">
      <div class="tech-pill">âš¡ Zero Config</div>
      <div class="tech-pill">ðŸŒ¿ Light DOM</div>
      <div class="tech-pill">ðŸ“¦ ESM Native</div>
      <div class="tech-pill">ðŸŽ¨ 23 Themes</div>
    </div>
  </div>
</div>
<!-- HERO SECTION END -->

<!-- STATS BANNER -->
<div class="stats-banner" id="stats-banner">
  <div class="stat-item" id="stat-item-1">
    <span class="stat-value" x-counter value="100" duration="2000">0</span>
    <span class="stat-label">Behaviors</span>
  </div>
  <div class="stat-separator" id="stat-separator-1"></div>
  <div class="stat-item" id="stat-item-2">
    <span class="stat-value">Light</span>
    <span class="stat-label">DOM Architecture</span>
  </div>
  <div class="stat-separator" id="stat-separator-2"></div>
  <div class="stat-item" id="stat-item-3">
    <span class="stat-value">0s</span>
    <span class="stat-label">Build Time</span>
  </div>
  <div class="stat-separator" id="stat-separator-3"></div>
  <div class="stat-item" id="stat-item-4">
    <span class="stat-value">100%</span>
    <span class="stat-label">Standards Compliant</span>
  </div>
</div>

<!-- LIVE DEMO SECTION -->
<div class="page__section" id="live-demo-section">
  <div class="section-header" id="live-demo-header">
    <h2 class="section-title">It's Just HTML attributes</h2>
    <p class="section-subtitle">Add complex interactive behaviors with simple <code>x-*</code> attributes.</p>
  </div>

  <div class="interactive-demo" id="interactive-demo">

    <!-- Preview Side (Single Column Order: 1) -->
    <div class="demo-preview" id="demo-preview">
      <div class="preview-label">Live Result</div>
      <div class="preview-canvas" id="preview-canvas">

        <!-- Grid Layout for demo items (supports multi-row) -->
      <div class="preview-grid" x-reorder id="auto-pages-homehtml-1">
        <div class="grid-item">
          <button class="wb-btn wb-btn--secondary" x-ripple>Click Me (Ripple)</button>
        </div>

        <div class="grid-item">
          <button class="wb-btn wb-btn--secondary" x-tooltip="Hello! This works without JS config.">Hover Me</button>
        </div>

        <div class="grid-item">
          <div id="drag-me-btn" class="reorder-item" style="background: var(--bg-tertiary); padding: 1rem; border-radius: 8px; border: 1px solid var(--border-color); cursor: move;" x-draggable axis="x">
            âœ‹ Drag Me Around
          </div>
        </div>

        <div class="grid-item">
          <button class="wb-btn wb-btn--primary" x-confetti>Celebrate! ðŸŽ‰</button>
        </div>
      </div>

      </div>
    </div>

    <!-- Code Side (Single Column Order: 2) -->
    <div class="demo-code" id="demo-code">
      <div class="window-controls" id="auto-pages-homehtml-2">
        <span class="dot red"></span>
        <span class="dot yellow"></span>
        <span class="dot green"></span>
      </div>
      <wb-mdhtml id="auto-pages-homehtml-3">
        ```html
        <!-- 1. Add Ripple Effect -->
        <button class="wb-btn wb-btn--secondary" x-ripple>Click Me (Ripple)</button>

        <!-- 2. Add Tooltip -->
        <button class="wb-btn wb-btn--secondary" x-tooltip="Hello! This works without JS config.">Hover Me</button>

        <!-- 3. Make Draggable -->
        <div
          style="background: var(--bg-tertiary); padding: 1rem; border-radius: 8px; border: 1px solid var(--border-color); cursor: move;"
          x-draggable>
          âœ‹ Drag Me Around
        </div>

        <!-- 4. Confetti Explosion -->
        <button class="wb-btn wb-btn--primary" x-confetti>Celebrate! ðŸŽ‰</button>
        ```
      </wb-mdhtml>
    </div>

  </div>
</div>

<!-- FEATURE CARDS -->
<wb-features id="features-section" heading="Everything You Need" subtitle="A complete toolkit for modern web development.">
  <wb-card class="feature-card" id="feature-card-1" heading="Component Library">
    <div slot="body" id="auto-pages-homehtml-4">
      <div class="feature-icon">ðŸ§©</div>
      <p>Over 40 ready-to-use UI components including Cards, Modals, Drawers, and Navigation.</p>
    </div>
  </wb-card>

  <wb-card class="feature-card" id="feature-card-2" heading="Behaviors System">
    <div slot="body" id="auto-pages-homehtml-5">
      <div class="feature-icon">âš¡</div>
      <p id="auto-pages-homehtml-6">Compose interactions like Lego bricks. Add <code>x-fade-in</code>, <code>x-sticky</code>, or
        <code>x-validate</code> to any element.</p>
    </div>
  </wb-card>

  <wb-card class="feature-card" id="feature-card-3" heading="Theme Engine">
    <div slot="body" id="auto-pages-homehtml-7">
      <div class="feature-icon">ðŸŽ¨</div>
      <p>23 built-in themes with CSS Variable support. Dark mode, Light mode, and Auto detection support out of the box.</p>
    </div>
  </wb-card>

  <wb-card class="feature-card" id="feature-card-4" heading="Data Viz">
    <div slot="body" id="auto-pages-homehtml-8">
      <div class="feature-icon">ðŸ“Š</div>
      <p>Built-in charts, stats cards, and audio visualizations powered by Web Standards.</p>
    </div>
  </wb-card>

  <wb-card class="feature-card" id="feature-card-5" heading="Accessible">
    <div slot="body" id="auto-pages-homehtml-9">
      <div class="feature-icon">â™¿</div>
      <p>ARIA attributes and keyboard navigation are baked into every component by default.</p>
    </div>
  </wb-card>

  <wb-card class="feature-card" id="feature-card-6" heading="Performance">
    <div slot="body" id="auto-pages-homehtml-10">
      <div class="feature-icon">ðŸš€</div>
      <p>Zero-runtime compilation. Browsers are fast now. We let them do their job.</p>
    </div>
  </wb-card>
</wb-features>

<!-- PREMIUM SHOWCASE -->
<div class="page__section" id="premium-showcase-section">
  <div class="section-header" id="premium-showcase-header">
    <h2 class="section-title">Premium Components Included</h2>
    <p class="section-subtitle">Production-ready complex interfaces.</p>
  </div>

  <div class="premium-showcase-grid" id="premium-showcase-grid">
    <!-- Audio Player -->
    <div class="showcase-box" id="showcase-box-1">
      <div class="showcase-box__header">
        <span>Audio Visualization</span>
      </div>
      <div class="showcase-box__content">
        <wb-audio
          src="https://files.freemusicarchive.org/storage-freemusicarchive-org/music/no_curator/Tours/Enthusiast/Tours_-_01_-_Enthusiast.mp3"
          show-eq="true" volume="0.5"></wb-audio>
      </div>
      <div class="showcase-box__code">
        <wb-mdhtml>
          ```html
          <wb-audio src="song.mp3" show-eq="true" volume="0.5">
          </wb-audio>
          ```
        </wb-mdhtml>
      </div>
    </div>

    <!-- Notifications -->
    <div class="showcase-box" id="showcase-box-2">
      <div class="showcase-box__header" id="showcase-box-header-2">
        <span>Smart Notifications</span>
      </div>
      <div class="showcase-box__content center-content" id="showcase-box-content-2">
        <div style="display: flex; flex-direction: column; gap: 0.5rem; width: 100%;" id="auto-pages-homehtml-11">
          <notification-card type="info" title="System Update" message="Downloading patch v3.1..."></notification-card>
          <notification-card type="success" title="Complete"
            message="Installation finished successfully."></notification-card>
        </div>
      </div>
      <div class="showcase-box__code" id="showcase-box-code-2">
        <wb-mdhtml id="auto-pages-homehtml-12">
          ```html
          <notification-card type="info" title="System Update" message="...">
          </notification-card>

          <notification-card type="success" title="Complete" message="...">
          </notification-card>
          ```
        </wb-mdhtml>
      </div>
    </div>
  </div>
</div>

<!-- CALL TO ACTION -->
<div class="cta-section" id="cta-section">
  <div class="cta-content" id="cta-content">
    <h2>Ready to ship faster?</h2>
    <p>Join the No-Build Revolution today.</p>
    <div class="cta-actions" id="cta-actions">
      <a href="?page=builder" class="wb-btn wb-btn--primary wb-btn--lg">Get Started</a>
      <a href="https://github.com/CieloVistaSoftware/wb-starter" class="wb-btn wb-btn--secondary wb-btn--lg">View on
        GitHub</a>
    </div>
  </div>

  <!-- Decorative background elements -->
  <div class="cta-bg-1" id="cta-bg-1"></div>
  <div class="cta-bg-2" id="cta-bg-2"></div>
</div>

<!-- PAGE STYLES -->
<style>
  /* === HERO SECTION === */
  .hero-section {
    position: relative;
    min-height: 85vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 2rem;
    background: radial-gradient(circle at center, #1e293b 0%, #0f172a 100%);
    overflow: hidden;
    margin: -2rem -2rem 0;
    /* Negate body padding */
  }

  .hero-content {
    position: relative;
    z-index: 2;
    max-width: 900px;
    animation: fadeInUp 0.8s ease-out;
  }

  .hero-title {
    font-size: clamp(2.5rem, 6vw, 5rem);
    line-height: 1.1;
    font-weight: 800;
    margin-bottom: 1.5rem;
    letter-spacing: -0.02em;
  }

  .gradient-text {
    background: linear-gradient(135deg, #818cf8 0%, #c084fc 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .hero-subtitle {
    font-size: clamp(1.1rem, 2vw, 1.5rem);
    color: var(--text-secondary, #94a3b8);
    max-width: 700px;
    margin: 0 auto 2.5rem;
    line-height: 1.6;
  }

  .hero-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    margin-bottom: 3rem;
  }

  .wb-btn--xl {
    padding: 1rem 2rem;
    font-size: 1.25rem;
  }

  .wb-btn--lg {
    padding: 0.8rem 1.6rem;
    font-size: 1rem;
  }

  .tech-stack {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
    opacity: 0.8;
  }

  .tech-pill {
    padding: 0.5rem 1rem;
    border-radius: 50px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--text-secondary);
    backdrop-filter: blur(5px);
  }

  /* === STATS BANNER === */
  .stats-banner {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 2rem;
    padding: 2rem;
    background: var(--bg-secondary);
    border-bottom: 1px solid var(--border-color);
    margin: 0 -2rem 4rem;
    /* Full width */
    flex-wrap: wrap;
  }

  .stat-item {
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .stat-value {
    font-size: 2.5rem;
    font-weight: 900;
    color: var(--primary);
    line-height: 1;
  }

  .stat-label {
    font-size: 0.875rem;
    font-weight: 600;
    text-transform: uppercase;
    color: var(--text-secondary);
    margin-top: 0.5rem;
    letter-spacing: 0.05em;
  }

  .stat-separator {
    width: 1px;
    height: 40px;
    background: var(--border-color);
    display: none;
  }

  @media(min-width: 768px) {
    .stat-separator {
      display: block;
    }
  }

  /* === INTERACTIVE DEMO === */
  .interactive-demo {
    display: flex;
    flex-direction: column;
    gap: 0;
    /* Remove gap as we want them attached */
    margin-top: 2rem;
    background: var(--bg-secondary);
    border-radius: 16px;
    border: 1px solid var(--border-color);
    overflow: hidden;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
    /* Set explicit max width for single column feel */
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
  }

  /* Removed unused Media Query for grid columns */

  .demo-code {
    background: #0f172a;
    /* Always dark for code */
    padding: 1.5rem;
    border-top: 1px solid var(--border-color);
    /* Add top border since it's now below */
    border-right: none;
    /* Remove right border */
    text-align: left;
    /* Ensure left-aligned code */
  }

  .window-controls {
    display: flex;
    gap: 6px;
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }

  .dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
  }

  .red {
    background: #ef4444;
  }

  .yellow {
    background: #f59e0b;
  }

  .green {
    background: #10b981;
  }

  .demo-code pre {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.9rem;
    line-height: 1.7;
    color: #e2e8f0;
    margin: 0;
  }

  .attr {
    color: #818cf8;
    font-weight: bold;
  }

  .demo-preview {
    padding: 2rem;
    display: flex;
    flex-direction: column;
    background: var(--bg-tertiary);
    position: relative;
  }

  .preview-label {
    position: absolute;
    top: 1rem;
    right: 1rem;
    font-size: 0.75rem;
    text-transform: uppercase;
    background: var(--bg-secondary);
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    border: 1px solid var(--border-color);
    color: var(--text-secondary);
  }

  .preview-canvas {
    display: flex;
    flex-direction: column;
    gap: 2rem;
    justify-content: center;
    flex-grow: 1;
    min-height: 300px;
  }

  /* Demo Grid for interactive preview */
  .preview-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
    gap: 1rem;
    align-items: start;
    width: 100%;
    position: relative; /* for absolute dragging positioning */
  }

  .preview-grid .grid-item {
    min-height: 64px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Visual placeholder used during reorder */
  .wb-reorder--placeholder {
    border: 2px dashed rgba(255,255,255,0.08);
    border-radius: 8px;
    background: rgba(255,255,255,0.02);
    min-height: 64px;
  }

  .reorder-item.dragging {
    z-index: 9999;
    box-shadow: 0 10px 30px rgba(0,0,0,0.4);
    transform: rotate(-0.5deg);
    pointer-events: none;
  }

  .preview-row {
    display: flex;
    gap: 1rem;
    align-items: center;
    flex-wrap: wrap;
  }

  /* === FEATURES GRID === */
  .features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-top: 3rem;
  }

  .feature-card {
    background: var(--bg-secondary);
    padding: 2rem;
    border-radius: 12px;
    border: 1px solid var(--border-color);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .feature-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
    border-color: var(--primary);
  }

  .feature-icon {
    font-size: 2.5rem;
    margin-bottom: 1rem;
  }

  .feature-card h3 {
    margin: 0 0 0.5rem;
    font-size: 1.25rem;
    color: var(--text-primary);
  }

  .feature-card p {
    color: var(--text-secondary);
    line-height: 1.6;
    margin: 0;
  }

  .bg-subtle {
    background: rgba(255, 255, 255, 0.02);
    margin: 2rem -2rem;
    padding: 4rem 2rem;
  }

  /* === PREMIUM SHOWCASE === */
  .premium-showcase-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 2rem;
    margin-top: 2rem;
  }

  .showcase-box {
    background: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    overflow: hidden;
  }

  .showcase-box__header {
    background: var(--bg-tertiary);
    padding: 1rem;
    border-bottom: 1px solid var(--border-color);
    font-weight: 600;
  }

  .showcase-box__content {
    padding: 2rem;
  }

  .showcase-box__code {
    background: #0f172a;
    padding: 1rem;
    border-top: 1px solid var(--border-color);
  }

  .center-content {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;
  }

  /* === CTA SECTION === */
  .cta-section {
    position: relative;
    padding: 6rem 2rem;
    margin: 4rem -2rem -2rem;
    text-align: center;
    background: #0f172a;
    overflow: hidden;
    border-top: 1px solid var(--border-color);
  }

  .cta-content {
    position: relative;
    z-index: 2;
  }

  .cta-content h2 {
    font-size: 3rem;
    font-weight: 800;
    margin-bottom: 1rem;
    background: linear-gradient(to right, #fff, #94a3b8);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .cta-content p {
    font-size: 1.5rem;
    color: #94a3b8;
    margin-bottom: 2rem;
  }

  .cta-actions {
    display: flex;
    gap: 1.5rem;
    justify-content: center;
  }

  .cta-bg-1,
  .cta-bg-2 {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.3;
  }

  .cta-bg-1 {
    top: -50%;
    left: -20%;
    width: 600px;
    height: 600px;
    background: #6366f1;
  }

  .cta-bg-2 {
    bottom: -50%;
    right: -20%;
    width: 500px;
    height: 500px;
    background: #ec4899;
  }

  /* Utilities */
  .text-center {
    text-align: center;
  }

  .section-header {
    text-align: center;
    margin-bottom: 3rem;
  }

  .section-subtitle {
    max-width: 600px;
    margin: 0.5rem auto 0;
    font-size: 1.1rem;
  }

  /* Animations */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>